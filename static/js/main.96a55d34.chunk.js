(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,o){e.exports=o(35)},22:function(e,t,o){},31:function(e,t,o){},35:function(e,t,o){"use strict";o.r(t);var r=o(0),a=o.n(r),n=o(8),i=o.n(n),s=(o(22),o(2)),l=o(3),c=o(5),p=o(4),d=o(6),u=o(7),h=o(15),m=o.n(h),f=(o(31),o(9)),g={type:"FeatureCollections",features:[{type:"Feature",properties:{name:"129",childrens:20,places:29,reserved:5,free:4},geometry:{type:"Point",coordinates:[30.628101825714094,50.45005475483897]}},{type:"Feature",properties:{name:"131",childrens:61,places:77,reserved:7,free:9},geometry:{type:"Point",coordinates:[30.505964756011963,50.398745609325054]}},{type:"Feature",properties:{name:"150",childrens:62,places:63,reserved:1,free:0},geometry:{type:"Point",coordinates:[30.44935941696166,50.38228812291681]}},{type:"Feature",properties:{name:"196",childrens:67,places:94,reserved:23,free:4},geometry:{type:"Point",coordinates:[30.4504644870758,50.38290384245888]}}]},b="#E38627",v="#6A2135",y="#C13C37",C="#0A0A28",x="#D3D3D3",O=Object(u.d)({accessToken:"pk.eyJ1IjoiZGVuaXNrb25vbmVua28iLCJhIjoiY2pnY2QwanM4MDJuYjJxdGN6cWN4d2dkcSJ9.uih5MR-tgpbVwBsooCFhgw"}),j=function(e){function t(e){var o;return Object(s.a)(this,t),(o=Object(c.a)(this,Object(p.a)(t).call(this,e))).style={fontFamily:"Roboto",fontSize:"12px",color:C,backgroundColor:"#fff",borderRadius:"3px",position:"absolute",padding:"10px",top:"10px",left:"10px",height:"20px"},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:this.style},a.a.createElement("div",null,"Kindergartens number in the circle area of ",a.a.createElement("b",null,this.props.radii)," km radii:  ",a.a.createElement("b",null,this.props.number)))}}]),t}(a.a.Component),w=function(e){function t(e){var o;return Object(s.a)(this,t),(o=Object(c.a)(this,Object(p.a)(t).call(this,e))).style={backgroundColor:e.color,height:"4px",width:"4px",padding:"5px",display:"inline-block",verticalAlign:"middle",textAlign:"center"},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{textAlign:"left",paddingLeft:"12px"}},a.a.createElement("div",{style:this.style}),a.a.createElement("div",{style:{display:"inline-block",paddingLeft:"5px",verticalAlign:"middle",textAlign:"center",fontFamily:"Roboto",fontSize:"12px",color:this.props.textColor}},this.props.text))}}]),t}(a.a.Component),E=function(e){function t(e){var o;return Object(s.a)(this,t),(o=Object(c.a)(this,Object(p.a)(t).call(this,e))).data=[],0!==o.props.free?(o.locColorFree=b,o.locColorTextFree=C,o.data.push({title:"Free",value:o.props.free,color:o.locColorFree})):(o.locColorFree=x,o.locColorTextFree=x),0!==o.props.res?(o.locColorOccupied=y,o.locColorTextOccupied=C,o.data.push({title:"Reserved",value:o.props.res,color:o.locColorOccupied})):(o.locColorOccupied=x,o.locColorTextOccupied=x),0!==o.props.chld?(o.locColorReserved=v,o.locColorTextReserved=C,o.data.push({title:"Childrens",value:o.props.chld,color:o.locColorReserved})):(o.locColorReserved=x,o.locColorTextReserved=x),o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(u.a,{coordinates:[this.props.lat,this.props.long],anchor:"bottom",offset:{"bottom-left":[12,-12],bottom:[0,-12],"bottom-right":[-12,-12]}},a.a.createElement(m.a,{data:this.data,label:!0,labelStyle:{fontSize:"9px",fontFamily:"Roboto"},totalValue:this.props.total,radius:42,lineWidth:20,labelPosition:66,style:{height:"100px",width:"160px"},lengthAngle:-180,ratio:2}),a.a.createElement(w,{color:this.locColorFree,textColor:this.locColorTextFree,text:"\u0412\u0456\u043b\u044c\u043d\u0438\u0445 \u043c\u0456\u0441\u0446\u044c"}),a.a.createElement(w,{color:this.locColorOccupied,textColor:this.locColorTextOccupied,text:"\u0417\u0430\u0439\u043d\u044f\u0442\u0438\u0445"}),a.a.createElement(w,{color:this.locColorReserved,textColor:this.locColorTextReserved,text:"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u043e\u0432\u0430\u043d\u0438\u0445"}))}}]),t}(a.a.Component),k=function(e){function t(e){var o;return Object(s.a)(this,t),(o=Object(c.a)(this,Object(p.a)(t).call(this,e))).createPopups=function(){var e=[];return o.features.forEach(function(t){e.push(a.a.createElement(E,{lat:t.geometry.coordinates[0],long:t.geometry.coordinates[1],free:t.properties.free,res:t.properties.reserved,chld:t.properties.childrens,total:t.properties.palces}))}),e},o.features=e.geojson.features,o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.createPopups()),a.a.createElement("div",null,this.createPopups())}}]),t}(a.a.Component),F=function(e){function t(e){var o;return Object(s.a)(this,t),(o=Object(c.a)(this,Object(p.a)(t).call(this,e))).onZoom=function(){o.map.getZoom()>=18&&!o.state.showMap?(console.log("\nzoom: "+o.map.getZoom()+"  show info"),o.toogleShowMap()):o.map.getZoom()<=18&&o.state.showMap&&(console.log("\nzoom: "+o.map.getZoom()+"  hide info"),o.toogleShowMap())},o.onMove=function(){var e=o.map.getBounds().getCenter(),t=f.point([e.lat,e.lng]);o.resetRenderedData(t)},o.state={showMap:!1,zoom:[15],center:[30.4506825,50.382702],renderedData:{type:"FeatureCollections",features:[{type:"Feature",properties:{name:"129",childrens:20,places:29,reserved:5,free:4},geometry:{type:"Point",coordinates:[30.628101825714094,50.45005475483897]}}]}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getCurrentData",value:function(e){var t={type:"FeatureCollection",features:[]};return this.props.initData.features.forEach(function(o){var r=[o.geometry.coordinates[1],o.geometry.coordinates[0]],a=f.point(r),n=f.distance(e,a);console.log("first point: "+a.geometry.coordinates+",   second point: "+e.geometry.coordinates),console.log("Distnace to center   "+n),n<=2&&(t.features.push(o),console.log("elements "+o))}),console.log("Features in the view area:  "+t.features.length),t}},{key:"resetRenderedData",value:function(e){this.setState({showMap:this.state.showMap,zoom:this.state.zoom,center:this.state.center,renderedData:this.getCurrentData(e)})}},{key:"toogleShowMap",value:function(){this.setState({showMap:!this.state.showMap,zoom:this.state.zoom,center:this.state.center,renderedData:this.state.renderedData})}},{key:"render",value:function(){var e=this;return a.a.createElement(O,{style:"https://api.maptiler.com/maps/3facac85-4f4f-4917-9926-bef23b53a487/style.json?key=brAq6ZyIGL19175g0ZdK",center:this.state.center,zoom:this.state.zoom,containerStyle:{height:"100vh",width:"100vw"},onStyleLoad:function(t){return e.map=t},onZoom:this.onZoom,onMoveEnd:this.onMove},a.a.createElement(u.b,{position:"bottom-right"}),a.a.createElement(u.c,{position:"bottom-right"}),this.state.showMap&&a.a.createElement(k,{geojson:this.state.renderedData}),a.a.createElement(j,{radii:2,number:this.state.renderedData.features.length}))}}]),t}(a.a.Component);var D=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(F,{initData:g}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.96a55d34.chunk.js.map